"use strict";!function(){function n(n,t,i){t.addUrlAction({path:"/applications/:applicationId/status",text:i("Add smart rule"),actionBar:!0,position:"right",icon:"plus",priority:100,showIf:["$routeParams","c8yApplication","c8yTenant","$q","c8yPermissions",function(n,t,i,a,r){var e=n.applicationId,c=t.getApplicationMO(e);return a.all({currentTenant:i.current(),mo:c,canAdminMO:c.then(function(n){return r.canAdminMOs([n.id])})}).then(function(n){var t=n.currentTenant,i=n.mo,a=n.canAdminMO,r=i.applicationOwner===t.name;return a&&r})}],action:["$routeParams","smartRulesSvc","c8yApplication","$rootScope",function(n,t,i,a){var r=function(n){return _.includes(["onAlarmSendSms","onAlarmSendEmail"],n.name)};return i.getApplicationMO(n.applicationId).then(function(n){return t.addNewWithUI({},r,function(n){return{c8y_Context:{context:"managedObject",id:n.id}}}(n))}).then(function(){return a.$broadcast("smartRulesListReload")})}]})}n.$inject=["c8yViewsProvider","c8yActionsProvider","gettext"],angular.module("c8y.appStatus",[]).config(n)}();