<div ng-controller="SmartRestTemplateDetailsCtrl as $ctrl">
  <div class="row split-scroll smart-rest-editor">
    <div class="col-md-4 col-xs-12 scroll-column has-footer">
      <ul class="nav c8y-nav-stacked inner-scroll">
        <li
          class="c8y-stacked-item"
          ng-repeat="responseTemplate in $ctrl.responseTemplates"
          ng-click="$ctrl.selectResponseTemplate(responseTemplate)"
          ng-class="{active: $ctrl.selectedResponseTemplate === responseTemplate}"
        >
          <span class="text-truncate">
            <i c8y-icon="arrow-circle-left" class="text-complementary"></i>
            <span class="msgid" ng-bind="responseTemplate.msgId"></span>
            <span ng-bind="responseTemplate.name"></span>
          </span>
        </li>
        <li ng-show="$ctrl.countResponseTemplates($ctrl.template) === 0">
          <div class="c8y-empty-state text-left">
            <h1 class="c8y-icon c8y-icon-smart-rest c8y-icon-duocolor"></h1>
            <p>
              <strong translate>No responses.</strong><br />
              <span translate>Click below to add the first one.</span>
            </p>
          </div>
        </li>
      </ul>
      <div class="scroll-column-footer">
        <button
          title="{{ 'Add response' | translate }}"
          class="btn-add-block"
          ng-click="$ctrl.newResponseTemplate()"
        >
          <i c8y-icon="plus-circle"></i>
          <translate>Add response</translate>
        </button>
      </div>
    </div>

    <div
      class="col-md-8 col-xs-12 scroll-column fadeOutRightBig fast"
      ng-class="{'fadeInRightBig animated': $ctrl.selectedResponseTemplate , 'fadeOutRightBig animated': !$ctrl.selectedResponseTemplate && $ctrl.responseTemplates.length >= 0 }"
      style="animation-fill-mode: forwards;"
    >
      <div class="card">
        <div class="card-header separator visible-sm visible-xs" style="width:100%;">
          <button
            title="{{ 'Back' | translate }}"
            class="btn btn-clean"
            ng-click="$ctrl.deselectResponseTemplate()"
          >
            <i c8y-icon="chevron-left"></i><span translate>Back</span>
          </button>
        </div>
        <c8y-smart-rest-response-editor
          template="$ctrl.template"
          response-template="$ctrl.selectedResponseTemplate"
          on-save="$ctrl.addResponseTemplate(responseTemplate)"
          on-cancel="$ctrl.deselectResponseTemplate()"
          on-remove="$ctrl.removeResponseTemplate(responseTemplate)"
          class="scroll-column-nested-content"
        >
        </c8y-smart-rest-response-editor>
      </div>
    </div>
  </div>
</div>
