"use strict";!function(){function e(e,t){e.when("/device/:deviceId",{name:t("Info"),priority:1e3,icon:"asterisk",templateUrl:"".concat(":::PLUGIN_PATH:::/views/","basic.html"),controller:n,showIf:["c8yBase",function(e){return e.getFlag("deprecated")}]})}function n(t,e,n,i,a,c,o,r,s){var d="c8y_UpdateInventory";function u(e){t.device=e}function l(){i.detail(e.deviceId).then(n.getResData).then(u)}function v(){var e={deviceId:t.device.id,description:r("Request inventory update")};e[d]={},a.createWithNotifications(e).then(_.partial(p))}function p(e){var t=e.created,n=e.completed;t.then(_.partial(o.success,r("Inventory will be updated."))),n.then(function(e){e.status===a.status.SUCCESSFUL?(o.success(r("Inventory updated.")),l()):e.status===a.status.FAILED&&(e.failureReason?o.danger(s.getString('Inventory update failed due to: "{{failureReason | translate}}".',e)):o.danger(r("Inventory update failed.")))})}t.device={},l(),i.supportsOperation(d)&&c.addAction({text:r("Request inventory update"),action:v})}n.$inject=["$scope","$routeParams","c8yBase","c8yDevices","c8yDeviceControl","c8yActions","c8yAlert","gettext","gettextCatalog"],e.$inject=["c8yViewsProvider","gettext"],angular.module("c8y.deviceDetailBasic",[]).config(e)}();