<div ng-controller="assetPropertyWidgetCtrl">
  <c8y-schema-form
    schema="schema"
    form="form"
    model="managedObject"
    class="widget"
    ng-class="{'form-read-only': !editable}"
  >
  </c8y-schema-form>
  <c8y-if-allowed admin-mos="[managedObject]">
    <div class="m-t-24 m-r-16 m-l-16 m-b-24">
      <button
        title="{{ 'Add fragment' | translate }}"
        ng-show="editable && canAddProperties()"
        class="btn-add-block"
        ng-click="addProperties()"
      >
        <i c8y-icon="plus-circle"></i>
        {{ 'Add fragment' | translate }}
      </button>
    </div>

    <div c8y-widget-footer>
      <button
        title="{{ 'Edit' | translate }}"
        class="btn btn-link p-l-0 min-width-unset"
        ng-click="startEdit()"
        ng-show="!editable"
      >
        <i c8y-icon="pencil"></i>
        {{ 'Edit' | translate }}
      </button>
      <button
        title="{{ 'Cancel' | translate }}"
        class="btn btn-default btn-sm"
        ng-click="cancelEdit()"
        ng-show="editable"
      >
        {{ 'Cancel' | translate }}
      </button>
      <button
        title="{{ 'Save' | translate }}"
        class="btn btn-primary btn-sm"
        ng-click="save()"
        ng-show="editable"
      >
        {{ 'Save' | translate }}
      </button>
    </div>
  </c8y-if-allowed>
</div>
