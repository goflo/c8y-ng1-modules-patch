"use strict";!function(){function t(n,o,t,e,i,a){var u=this;function s(){return o.detail("oauth2",{silentError:!0}).then(_.identity,c).then(f).then(r).catch(function(t){return l(a("Could not load OAuth 2.0 configuration."),t)})}function r(t){u.ssoConfiguration=t,u.ssoConfigurationOutput=_.cloneDeep(t)}function c(t){return 404===t.status?o.defaultConfiguration:n.reject(t)}function f(t){return _.defaults(t,{template:u.templateTypes.CUSTOM.value})}function l(t,n){var o=_.get(n,"data.message")||_.get(n,"data.details.exceptionMessage");i.danger(t,o)}_.assign(u,{templateTypes:o.templateTypes,$onInit:function(){n.all({apps:t.listByUser(),groups:e.list()}).then(function(t){var n=t.apps,o=t.groups;u.apps=n,u.groups=o}).then(s)},onConfigurationChange:function(t){u.ssoConfigurationOutput=t},save:function(){o.save(u.ssoConfigurationOutput).then(function(t){r(t.data),i.success(a("Configuration saved."))}).catch(function(t){return l(a("Could not save configuration."),t)})}})}t.$inject=["$q","c8yLoginOptions","c8yApplication","c8yUserGroup","c8yAlert","gettext"],angular.module("c8y.authenticationConfiguration").component("c8ySsoConfiguration",{templateUrl:":::PLUGIN_PATH:::/sso-configuration/sso-configuration.html",controller:t,controllerAs:"vm"})}();