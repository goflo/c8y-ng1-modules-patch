"use strict";angular.module("c8y.smartRules").directive("smartRuleParamInputGeofence",function(){return{require:"smartRuleParamInput",scope:{rule:"=",param:"="},restrict:"E",templateUrl:":::PLUGIN_PATH:::/views/paramInputGeofence.html",controller:["$scope","c8yGeo","geofenceSvc",function(t,e,n){var r={type:"polygon",stroke:!0,weight:1,color:"#2e3974",fillColor:"#2e3974",latlngs:[]},o=new e.Bounds,a={center:{},bounds:o.get(),paths:{geofence:r}};function l(e){t.rule.config[t.param.property]=e,r.latlngs.length=0,_.forEach(e,function(e){r.latlngs.push(e),o.add(e)}),a.bounds=o.get()}function c(){n.showEditUI(r.latlngs).then(function(e){l(e)})}t.map=a,t.editGeofence=c,l(t.rule.config[t.param.property])}]}});