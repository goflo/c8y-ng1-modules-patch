"use strict";!function(){function t(t){var e={},n={"dashboard-theme-light":!0},r=[/^dashboard-theme-.*$/],a=[{label:t("Light"),default:!0,class:"dashboard-theme-light"},{label:t("Dark"),class:"dashboard-theme-dark"},{label:t("Transparent"),class:"dashboard-theme-transparent"},{label:t("Branded"),class:"dashboard-theme-branded"}],s={margin:12,top:12,bottom:12,left:12,right:12},i={},o={},l=[/^panel-title-.*$/,/^panel-content-.*$/],d=[{label:t("Regular"),default:!0,class:"panel-title-regular"},{label:t("Border"),class:"panel-title-border"},{label:t("Overlay"),class:"panel-title-overlay"},{label:t("Hidden"),class:"panel-title-hidden"}],u=[{label:t("Light"),default:!0,class:"panel-content-light"},{label:t("Dark"),class:"panel-content-dark"},{label:t("Transparent"),class:"panel-content-transparent"},{label:t("Branded"),class:"panel-content-branded"}];return{addDefaultDashboardClass:function(t){n[t]=!0},removeDefaultDashboardClass:function(t){_.unset(n,t)},addDashboardClassesGroup:function(t){r.push(t)},removeDashboardClassesGroup:function(t){_.remove(r,t)},addDashboardThemeClass:function(t){a.push(t)},removeDashboardThemeClass:function(t){_.remove(a,t)},getDashboardThemeClasses:function(){return _.cloneDeep(a)},getApplicableDashboardClasses:function(t){return _.transform([(t||{}).classes||{},n],function(a,t){_.forOwn(t,function(t,e){var n=function(e){return _.find(r,function(t){return t.test(e)})}(e);c(a,n)||(a[e]=t)})},{})},getApplicableDashboardStyles:function(t){return _.defaults(function(t){var e=(t||{}).widgetMargin,n=_.find([e,s.margin],_.isFinite);return{margin:"".concat(-n,"px")}}(t),(t||{}).styles||{},e)},addDefaultWidgetClass:function(t){o[t]=!0},removeDefaultWidgetClass:function(t){_.unset(o,t)},addWidgetClassesGroup:function(t){l.push(t)},removeWidgetClassesGroup:function(t){_.remove(l,t)},addWidgetHeaderClass:function(t){d.push(t)},removeWidgetHeaderClass:function(t){_.remove(d,t)},getWidgetHeaderClasses:function(){return _.cloneDeep(d)},addWidgetContentClass:function(t){u.push(t)},removeWidgetContentClass:function(t){_.remove(u,t)},getWidgetContentClasses:function(){return _.cloneDeep(u)},getApplicableWidgetClasses:function(t,e){return _.transform([(t||{}).classes||{},(e||{}).widgetClasses||{},o],function(a,t){_.forOwn(t,function(t,e){var n=function(e){return _.find(l,function(t){return t.test(e)})}(e);c(a,n)||(a[e]=t)})},{})},getApplicableWidgetStyles:function(t,e){return _.defaults(function(t,e){var n=f(t,e);return{"margin-top":"".concat(n.top,"px"),"margin-bottom":"".concat(n.bottom,"px"),"margin-left":"".concat(n.left,"px"),"margin-right":"".concat(n.right,"px")}}(t,e),(t||{}).styles||{},(e||{}).widgetStyles||{},i)},getDefaultWidgetMargins:g,getDefaultDashboardWidgetMargin:function(){return s.margin},getApplicableWidgetHandleStyles:function(t,e){var n=f(t,e);return{bottom:"".concat(10+n.bottom,"px"),right:"".concat(5+n.right,"px")}}};function c(t,e){return e&&_.some(_.keys(t),function(t){return e.test(t)})}function f(t,e){var n=g(t,e),a=(t||{}).margins||{};return{top:_.find([a.top,n.top],_.isFinite),bottom:_.find([a.bottom,n.bottom],_.isFinite),left:_.find([a.left,n.left],_.isFinite),right:_.find([a.right,n.right],_.isFinite)}}function g(t,e){var n=(e||{}).widgetMargin;return{top:_.find([n,s.top],_.isFinite),bottom:_.find([n,s.bottom],_.isFinite),left:_.find([n,s.left],_.isFinite),right:_.find([n,s.right],_.isFinite)}}}t.$inject=["gettext"],angular.module("c8y.parts.dashboard2").factory("c8yDashboardStyle",t)}();