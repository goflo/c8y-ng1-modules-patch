"use strict";!function(){function a(e,a,o,t,d,n,s,r,i,c,h){function b(a){e.dashboard=_.cloneDeep(a),e.isNamedDashboard=t.isNamed(e.dashboard)}function l(a){_.assign(e.dashboard,a),e.saved=!0,t.clearCacheList(),_.get(e,"dashboard.id")||c.redirectToDashboard(a),u("saved",a)}function u(a,o){if(e.modalInstance){var t=a?"close":"dismiss";e.modalInstance[t](o||e.dashboard)}}e.save=function(){var a=e.dashboard;e.creationContext&&(a=_.merge(a,{creationContext:e.creationContext}));t.saveAndWait(a).then(l)},e.cancel=u,e.icons=d,e.beta=n.beta,function(){var a=e.dashboardId||o.dashboardId;"new"===a&&(a=null);(function(a){e.title=h(a?"Edit dashboard":"Create dashboard")})(a),a?t.detail(a).then(b):b({name:"Dashboard",priority:1e4,icon:"th",global:!1})}()}a.$inject=["$scope","$location","$routeParams","dashboardSvc","iconList","info","c8yUiUtil","c8yUserGroup","c8yPermissions","c8yDashboardUi","gettext"],angular.module("c8y.parts.dashboard2").controller("DashboardEditCtrl",a)}();