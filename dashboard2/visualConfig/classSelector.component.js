"use strict";angular.module("c8y.parts.dashboard2").component("c8yClassSelector",{require:{ngModel:"ngModel"},bindings:{label:"<",placeholder:"<",options:"<",placeholderOption:"<"},templateUrl:":::PLUGIN_PATH:::/visualConfig/classSelector.html",controller:function(){var o=this;function e(){o.classes=_.cloneDeep(o.ngModel.$modelValue||{}),o.selectedOption=function(e){var n=_.keys(e);return _.find(o.options,function(e){return _.includes(n,e.class)})}(o.classes)||l()}function l(){return o.placeholderOption||_.find(o.options,{default:!0})||_.find(o.options,{class:""})}function t(e,n){_.isEmpty(n.class)||(e[n.class]=!0)}_.assign(o,{$onInit:function(){o.ngModel.$render=e},onOptionClicked:function(e){var n,s;n=o.classes,_.forEach(_.map(o.options,"class"),function(e){_.unset(n,e)}),o.selectedOption===e?o.selectedOption=l():(o.selectedOption=e,t(o.classes,e)),s=o.classes,o.ngModel.$setViewValue(s),o.ngModel.$render()}})},controllerAs:"vm"});