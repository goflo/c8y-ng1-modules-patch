"use strict";angular.module("c8y.ui").directive("c8yLinearGauge",function(){return{restrict:"EA",templateUrl:":::PLUGIN_PATH:::/ui/views/linearGauge.html",scope:{dp:"=",measurement:"=",time:"=",fractionSize:"="},link:function(a){var i={min:0,max:100},r={};function e(){var e=_.cloneDeep(a.dp);_.isUndefined(e)||(function(e){var n=Number(e.min),a=Number(e.max),i=function(e){return _.clamp(Number(e),n,a)};e.min=i(e.min),e.max=i(e.max),e.yellowRangeMin=i(e.yellowRangeMin),e.yellowRangeMax=i(e.yellowRangeMax),e.redRangeMin=i(e.redRangeMin),e.redRangeMax=i(e.redRangeMax)}(e),function(e){var n=Number(a.measurement&&a.measurement.value);r.min=_.isNaN(Number(e.min))?i.min:Number(e.min),r.max=_.isNaN(Number(e.max))?i.max:Number(e.max),r.yellowRangeMin=e.yellowRangeMin,r.yellowRangeMax=e.yellowRangeMax,r.redRangeMin=e.redRangeMin,r.redRangeMax=e.redRangeMax,a.value=n,r.current=n,r.time=a.time,a.showValueWarning=n>r.max||n<r.min,r.target=e.target,r.unit=e.unit,r.orientation="horizontal",r.fractionSize=a.fractionSize,a.config=r}(e))}a.$watch("measurement",e,!0),a.$watch("dp",e,!0)}}});